---
$category@: ads-analytics
formats:
- websites
- ads
- stories
teaser:
  text: Пиксель отслеживания, используемый для регистрации просмотров страниц
---

<!--© Авторы HTML с технологией AMP, 2015. Все права защищены.

       Лицензия Apache версии 2.0 (далее – "Лицензия");
     этот файл можно использовать только в соответствии с Лицензией.
     Чтобы приобрести копию Лицензии, перейдите по ссылке:

     http://www.apache.org/licenses/LICENSE-2.0

     Если иное не требуется действующим законодательством или не оговорено в письменном виде, программное обеспечение, распространяемое по Лицензии, распространяется "КАК ЕСТЬ", БЕЗ КАКИХ-ЛИБО ГАРАНТИЙ И УСЛОВИЙ, явных или подразумеваемых.
     Определения используемых в Лицензии понятий, с помощью которых оговариваются разрешения и ограничения, приводятся в тексте Лицензии.
-->

# amp-pixel


<table>
  <tr>
    <td class="col-fourty"><strong>Описание</strong></td>
    <td>Этот компонент может использоваться как стандартный пиксель отслеживания, позволяющий собирать информацию о просмотрах веб-страниц</td>
  </tr>
  <tr>
    <td class="col-fourty"><strong><a href="https://www.ampproject.org/docs/guides/responsive/control_layout.html">Поддерживаемые макеты</a></strong></td>
    <td>fixed, nodisplay</td>
  </tr>
  <tr>
    <td class="col-fourty"><strong>Примеры</strong></td>
    <td>См. пример <a href="https://ampbyexample.com/components/amp-pixel/">amp-pixel</a> на сайте AMP By Example.</td>
  </tr>
</table>

##Функционирование

Компонент `amp-pixel` обрабатывается аналогично стандартному пикселю отслеживания `img`. Он использует единственный URL, но добавляет в него переменные, которые при выполнении запроса могут быть заменены в строке URL на данный компонент. Более подробные сведения вы найдете в разделе, который посвящен [заменам](#substitutions).

В примере ниже компонент `amp-pixel` направляет обычный запрос GET к выбранному URL и игнорирует ответ.

```html
<amp-pixel src="https://foo.com/tracker/foo"
    layout="nodisplay"></amp-pixel>
```

[tip type="note"]
Игнорируйте параметр `usqp` при обработке URL для AMP в заголовке перехода, относящегося к запросу. Этот параметр используется Google для запуска экспериментов в Google AMP Cache.
[/tip]

##Атрибуты

#####src (обязательно)

Обычный URL удаленной конечной точки, который должен использовать протокол `https`.

#####referrerpolicy (необязательно)

Этот атрибут аналогичен атрибуту `referrerpolicy`, предназначенному для тега `<img>`, однако ему может присваиваться только значение `no-referrer`. Если в коде представлен элемент `referrerpolicy=no-referrer`, заголовок `referrer` будет удален из HTTP-запроса.

```html
<amp-pixel src="https://foo.com/tracker/foo"
    layout="nodisplay"
    referrerpolicy="no-referrer"></amp-pixel>
```

#####allow-ssr-img (необязательно)

Этот атрибут используется в креативах AMP4ADS и указывает, что при преобразовании, выполняемом после проверки кода AMP, элемент img может быть размещен внутри элемента amp-pixel. Благодаря этому запрос ping будет отправляться одновременно с извлечением или обработкой библиотеки AMP.
Обратите внимание, что при этом все макросы в составе URL не будут заменяться, поэтому применяйте их только в том случае, если они не содержатся внутри элемента src.

#####common attributes

Этот элемент содержит [распространенные атрибуты](https://www.ampproject.org/docs/reference/common_attributes), которые поддерживаются компонентами AMP.

##Замены

Компонент `amp-pixel` поддерживает все стандартные замены переменных AMP.
Более подробные сведения вы найдете в [руководстве по работе с заменами](../spec/amp-var-substitutions.md).

В примере ниже запрашивается URL вида `https://foo.com/pixel?0.8390278471201`. Значение элемента RANDOM генерируется случайным образом при каждом новом показе.

```html
<amp-pixel src="https://foo.com/pixel?RANDOM"
    layout="nodisplay"></amp-pixel>
```

##Поддержка стилей

К компоненту `amp-pixel` невозможно применять стили.

##Проверка

С правилами для компонента amp-pixel можно ознакомиться в [спецификации валидатора AMP](https://github.com/ampproject/amphtml/blob/master/validator/validator-main.protoascii).
